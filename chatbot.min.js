document.addEventListener('DOMContentLoaded',function(){const e=document.getElementById('chat-messages'),t=document.getElementById('chat-input'),n=document.getElementById('send-btn'),s=document.getElementById('chat-toggle'),o=document.getElementById('chat-window');let a=!1;const i={userIndustry:'',budgetRange:''};function l(t,n){const s=document.createElement('div');s.classList.add('chat-message',n+'-message');const o=document.createElement('div');o.classList.add('message-content');if('bot'===n){const t=document.createElement('div');t.classList.add('typing-indicator'),t.innerHTML='<span></span><span></span><span></span>',o.appendChild(t),setTimeout(()=>{t.remove()},1e3)}o.insertAdjacentHTML('beforeend',t),s.appendChild(o),e.appendChild(s),e.scrollTop=e.scrollHeight}function c(e){const t=e.toLowerCase();let n='';if(t.includes('price')||t.includes('cost')||t.includes('package')||t.includes('plan')){n=`ğŸ’° **Google Ads Management Packages**

**Launchpad Package - $150/month**
Perfect for $200-500/month ad budgets

**Growth Package - $300/month** 
Ideal for $500-1,500/month ad budgets

**Total Control Package - $500+/month**
For $1,500+ monthly budgets with full service

Want to see which package fits your specific situation?`}else if(t.includes('audit')||t.includes('free')){n=`ğŸ‰ YES! Marlon offers a **FREE Google Ads + Website Audit** worth $200!

**Your audit includes:**
âœ… Complete Google Ads account analysis
âœ… Keyword targeting effectiveness review
âœ… Landing page optimization opportunities
âœ… Competitor analysis insights
âœ… 30-day action plan to boost ROI

This isn't a sales pitch - it's pure value to help your business grow.

<button class="quick-action" onclick="bookConsultation()">ğŸ“… Book Free Audit</button>
<button class="quick-action" onclick="showEmailCapture()">ğŸ“§ Get Audit Checklist</button>

What type of business do you run? This helps me prepare specific insights for your audit.`}else if(t.includes('checklist')||t.includes('download')||t.includes('guide')){n=`ğŸ Perfect! I've prepared a **Google Ads Checklist** that's helped businesses increase conversions by 200%!

**The checklist covers:**
â€¢ Keyword research secrets most agencies miss
â€¢ Ad copy formulas that convert
â€¢ Landing page optimization tips
â€¢ Budget allocation strategies
â€¢ Negative keyword goldmines

<button class="quick-action" onclick="showEmailCapture()">ğŸ“§ Get My Checklist</button>

Just enter your email and I'll send it over immediately. No spam, ever!`}else if(t.includes('consultation')||t.includes('call')||t.includes('meeting')){n=`ğŸ—“ï¸ Excellent choice! Marlon offers **free 30-minute strategy calls** with zero obligation.

**What to expect:**
â€¢ Review your current Google Ads performance
â€¢ Identify immediate opportunities
â€¢ Get honest recommendations
â€¢ Discuss budget and timeline
â€¢ No sales pressure - just value

<button class="quick-action" onclick="bookConsultation()">ğŸ“… Book Your Call</button>

Or if you prefer, I can ask you a few quick questions to prepare a personalized quote first.`}else{n=`I'm here to help! Marlon specializes in Google Ads with proven results - currently managing a $10K/month campaign with 78.5% optimization score.

**What can I help you with today?**

<button class="quick-action" onclick="showPricingCalculator()">ğŸ’° Pricing Calculator</button>
<button class="quick-action" onclick="startServiceDiscovery()">ğŸ¯ Personalized Quote</button>
<button class="quick-action" onclick="bookConsultation()">ğŸ“… Free Strategy Call</button>
<button class="quick-action" onclick="showEmailCapture()">ğŸ“§ Free Checklist</button>

Just let me know what's most important to you right now!`}return n}async function d(n){const s=n.trim();if(!s)return;t.disabled=!0,n.disabled=!0,l(s,'user'),t.value='';const o=document.createElement('div');o.classList.add('chat-message','bot-message'),o.textContent='Thinking...',o.classList.add('thinking'),e.appendChild(o),e.scrollTop=e.scrollHeight;try{o.classList.remove('thinking');const e=c(s),t=e.split(' ');let n='';for(let s=0;s<t.length;s++){await new Promise(e=>setTimeout(e,60+80*Math.random())),n+=(0===s?'':' ')+t[s],o.textContent=n,e.scrollTop=e.scrollHeight}}catch(t){console.error('Error in chat interaction:',t),o.textContent='Sorry, I encountered an error. Please try again.'}finally{setTimeout(()=>{t.disabled=!1,n.disabled=!1,t.focus()},100)}}const r=window.location.hostname.includes('github.io'),u='localhost'===window.location.hostname||'127.0.0.1'===window.location.hostname;console.log('Chatbot initializing...'),console.log('Environment:',u?'Local Development':r?'GitHub Pages':'Production'),setTimeout(()=>{l("Hello! I'm Marlon's chatbot. How can I help you today?",'bot')},800),t.disabled=!1,n.disabled=!1,window.showPricingCalculator=function(){l('ğŸ’° Use the interactive pricing calculator below to find your perfect package!','bot')},window.startServiceDiscovery=function(){l('ğŸ¯ Let me ask you a few questions to provide a personalized quote. What type of business do you run?','bot')},window.bookConsultation=function(){l('ğŸ“… Great choice! You can book a free 30-minute strategy call with Marlon. Opening booking page...','bot'),setTimeout(()=>{window.open('https://calendly.com/marlon-palomares','_blank')},1e3)},window.showEmailCapture=function(){l('ğŸ“§ Perfect! Enter your email to get the free Google Ads checklist and audit guide.','bot')},s.addEventListener('click',()=>{a=!a,o.style.display=a?'flex':'none',s.innerHTML=a?'Ã—':'ğŸ’¬'}),t.addEventListener('keypress',e=>{13===e.key&&d()}),n.addEventListener('click',d)});